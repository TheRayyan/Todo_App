<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Todo App with Authentication</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://accounts.google.com/gsi/client" async defer></script>
    <style>
        html, body {
            height: 100%;
            margin: 0;
            padding: 0;
            overflow: hidden;
        }
        .bg-option {
            transition: all 0.3s ease;
        }
        .bg-option:hover {
            transform: scale(1.05);
            box-shadow: 0 0 10px rgba(0,0,0,0.2);
        }
        .bg-option.selected {
            border: 3px solid #3b82f6;
            box-shadow: 0 0 15px rgba(59, 130, 246, 0.5);
        }
        .todo-item {
            transition: all 0.2s ease;
        }
        .todo-item:hover {
            transform: translateY(-2px);
        }
        .fade-in {
            animation: fadeIn 0.3s ease-in;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .app-container {
            display: flex;
            flex-direction: column;
            height: 100vh;
            max-height: 100vh;
        }
        .main-content {
            flex: 1;
            overflow-y: auto;
            scrollbar-width: thin;
            scrollbar-color: #3b82f6 #e5e7eb;
        }
        .main-content::-webkit-scrollbar {
            width: 8px;
        }
        .main-content::-webkit-scrollbar-track {
            background: #e5e7eb;
            border-radius: 10px;
        }
        .main-content::-webkit-scrollbar-thumb {
            background-color: #3b82f6;
            border-radius: 10px;
        }
        .tab-content {
            display: none;
        }
        .tab-content.active {
            display: block;
            animation: fadeIn 0.3s ease-in;
        }
        .tab-button {
            transition: all 0.2s ease;
        }
        .tab-button.active {
            background-color: #3b82f6;
            color: white;
        }
        .tab-button.active i {
            color: white;
        }
        .feature-card {
            transition: all 0.3s ease;
        }
        .feature-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
        }
        .nav-tabs {
            background-color: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            border-radius: 0.75rem 0.75rem 0 0;
            padding: 0.75rem 1rem 0;
            margin-bottom: -1px;
        }
        
        /* Dark mode styles */
        .dark .nav-tabs {
            background-color: rgba(31, 41, 55, 0.9);
        }
        .dark .backdrop-blur-sm {
            background-color: rgba(31, 41, 55, 0.8);
        }
        .dark .bg-white {
            background-color: #1f2937;
            border-color: #374151;
        }
        .dark .text-gray-700, .dark .text-gray-800 {
            color: #e5e7eb;
        }
        .dark .text-gray-600 {
            color: #9ca3af;
        }
        .dark .border-gray-200, .dark .border-gray-100 {
            border-color: #374151;
        }
        .dark .bg-blue-50 {
            background-color: #1e40af;
        }
        .dark input {
            background-color: #1f2937;
            border-color: #374151;
            color: #f3f4f6;
        }
        .dark input:focus {
            border-color: #3b82f6;
        }
        .dark .custom-checkbox {
            border-color: #6b7280;
        }
        .dark .custom-checkbox:checked {
            background-color: #3b82f6;
            border-color: #3b82f6;
        }
        .dark .modal-content {
            background-color: #1f2937;
            color: #f3f4f6;
        }
        .dark .modal-actions button {
            border-color: #374151;
        }
        .dark .modal-actions button:hover {
            background-color: #111827;
        }
        
        /* Enhanced Ripple Effect */
        .ripple-container {
            position: relative;
            overflow: hidden;
            transform: translate3d(0, 0, 0);
        }
        .ripple-effect {
            position: absolute;
            border-radius: 50%;
            background-color: rgba(255, 255, 255, 0.7);
            transform: scale(0);
            animation: ripple 600ms linear;
            pointer-events: none;
        }
        @keyframes ripple {
            to {
                transform: scale(4);
                opacity: 0;
            }
        }
        
        /* Custom checkbox style */
        .custom-checkbox {
            -webkit-appearance: none;
            -moz-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            border: 2px solid #d1d5db;
            border-radius: 4px;
            outline: none;
            transition: all 0.2s ease;
            position: relative;
            cursor: pointer;
        }
        .custom-checkbox:checked {
            background-color: #3b82f6;
            border-color: #3b82f6;
        }
        .custom-checkbox:checked::after {
            content: '\2713';
            position: absolute;
            color: white;
            font-size: 14px;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }
        .custom-checkbox:focus {
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.3);
        }
        
        /* Modal styles */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }
        .modal-content {
            background-color: white;
            padding: 2rem;
            border-radius: 0.5rem;
            max-width: 400px;
            width: 90%;
            box-shadow: 0 10px 25px rgba(0,0,0,0.2);
            animation: modalFadeIn 0.3s ease-out;
        }
        @keyframes modalFadeIn {
            from { opacity: 0; transform: translateY(-20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .modal-actions {
            display: flex;
            justify-content: flex-end;
            gap: 1rem;
            margin-top: 1.5rem;
        }
        
        /* Font size slider styles */
        .font-size-slider {
            -webkit-appearance: none;
            width: 100%;
            height: 8px;
            border-radius: 4px;
            background: #d1d5db;
            outline: none;
            transition: all 0.2s ease;
        }
        .font-size-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #3b82f6;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        .font-size-slider::-moz-range-thumb {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #3b82f6;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        .font-size-slider:hover::-webkit-slider-thumb {
            transform: scale(1.1);
        }
        .font-size-slider:hover::-moz-range-thumb {
            transform: scale(1.1);
        }
        .dark .font-size-slider {
            background: #4b5563;
        }
        .dark .font-size-slider::-webkit-slider-thumb {
            background: #3b82f6;
        }
        .dark .font-size-slider::-moz-range-thumb {
            background: #3b82f6;
        }
        
        /* Responsive text sizing */
        html {
            font-size: 16px;
        }
        
        /* Small devices (phones, 600px and down) */
        @media only screen and (max-width: 600px) {
            html {
                font-size: 14px;
            }
            .tab-button {
                padding: 0.5rem 0.75rem;
            }
            .random-btn-text {
                font-size: 0.75rem;
            }
            .delete-btn-text {
                font-size: 0.75rem;
            }
        }
        
        /* Extra small devices (phones, 400px and down) */
        @media only screen and (max-width: 400px) {
            html {
                font-size: 13px;
            }
            .tab-button {
                padding: 0.4rem 0.6rem;
                font-size: 0.8rem;
            }
            .random-btn-text {
                font-size: 0.7rem;
            }
            .delete-btn-text {
                font-size: 0.7rem;
            }
        }
        
        /* Tiny devices (phones, 320px and down) */
        @media only screen and (max-width: 320px) {
            html {
                font-size: 12px;
            }
            .tab-button {
                padding: 0.3rem 0.5rem;
                font-size: 0.75rem;
            }
        }
        
        /* Responsive adjustments */
        @media (max-width: 640px) {
            .nav-tabs {
                padding: 0.5rem 0.5rem 0;
            }
            .bg-option {
                height: 12vw;
            }
            .feature-card {
                padding: 1rem;
            }
            .modal-content {
                padding: 1.5rem;
            }
        }
        
        @media (max-width: 480px) {
            .main-content {
                padding: 1rem;
            }
            .feature-card {
                padding: 0.75rem;
            }
        }
        
        /* Dark mode heading colors */
        .dark .heading-text {
            color: #f3f4f6;
        }
        
        /* Tab button text colors */
        .tab-button {
            color: #4b5563;
        }
        .dark .tab-button {
            color: #9ca3af;
        }
        .tab-button.active {
            color: white;
        }
        
        /* Tab button icon colors */
        .tab-button i {
            color: #4b5563;
            transition: color 0.2s ease;
        }
        .dark .tab-button i {
            color: #9ca3af;
        }
        .tab-button.active i {
            color: white;
        }
        
        /* Auth screen styles */
        .auth-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            background-color: rgba(0, 0, 0, 0.7);
            backdrop-filter: blur(5px);
            z-index: 2000;
            transition: all 0.3s ease;
        }
        
        .auth-box {
            background-color: white;
            border-radius: 1rem;
            padding: 2rem;
            width: 90%;
            max-width: 400px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
            text-align: center;
            animation: modalFadeIn 0.3s ease-out;
        }
        
        .auth-title {
            font-size: 1.5rem;
            font-weight: bold;
            margin-bottom: 1rem;
            color: #1f2937;
        }
        
        .auth-subtitle {
            color: #6b7280;
            margin-bottom: 2rem;
        }
        
        .auth-divider {
            display: flex;
            align-items: center;
            margin: 1.5rem 0;
            color: #9ca3af;
        }
        
        .auth-divider::before,
        .auth-divider::after {
            content: "";
            flex: 1;
            border-bottom: 1px solid #e5e7eb;
        }
        
        .auth-divider::before {
            margin-right: 1rem;
        }
        
        .auth-divider::after {
            margin-left: 1rem;
        }
        
        .guest-btn {
            width: 100%;
            padding: 0.75rem;
            border-radius: 0.5rem;
            background-color: #f3f4f6;
            color: #1f2937;
            font-weight: 500;
            transition: all 0.2s ease;
            border: none;
            cursor: pointer;
        }
        
        .guest-btn:hover {
            background-color: #e5e7eb;
        }
        
        .dark .auth-box {
            background-color: #1f2937;
        }
        
        .dark .auth-title {
            color: #f3f4f6;
        }
        
        .dark .auth-subtitle {
            color: #9ca3af;
        }
        
        .dark .auth-divider {
            color: #6b7280;
        }
        
        .dark .auth-divider::before,
        .dark .auth-divider::after {
            border-bottom-color: #374151;
        }
        
        .dark .guest-btn {
            background-color: #374151;
            color: #f3f4f6;
        }
        
        .dark .guest-btn:hover {
            background-color: #4b5563;
        }
        
        /* User profile styles */
        .user-profile {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            padding: 0.5rem 1rem;
            border-radius: 9999px;
            background-color: rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(10px);
            position: fixed;
            top: 1rem;
            right: 1rem;
            z-index: 100;
            color: white;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        
        .user-profile:hover {
            background-color: rgba(255, 255, 255, 0.3);
        }
        
        .user-avatar {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            object-fit: cover;
        }
        
        .user-name {
            font-size: 0.875rem;
        }
        
        .sign-out-btn {
            margin-left: 0.5rem;
            color: white;
            opacity: 0.7;
            transition: opacity 0.2s ease;
        }
        
        .sign-out-btn:hover {
            opacity: 1;
        }
        
        /* Loading spinner */
        .loading-spinner {
            display: inline-block;
            width: 1.5rem;
            height: 1.5rem;
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top-color: white;
            animation: spin 1s ease-in-out infinite;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
    </style>
</head>
<body class="bg-cover bg-center bg-no-repeat transition-all duration-500" id="appBackground">
    <!-- Auth Screen -->
    <div class="auth-container" id="authContainer">
        <div class="auth-box dark:bg-gray-800">
            <div class="w-20 h-20 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4 dark:bg-blue-900">
                <i class="fas fa-check-circle text-blue-500 text-4xl dark:text-blue-400"></i>
            </div>
            <h1 class="auth-title dark:text-white">Welcome to Todo App</h1>
            <p class="auth-subtitle dark:text-gray-400">Sign in to access your todos across devices</p>
            
            <!-- Google Sign In Button -->
            <div id="g_id_onload"
                 data-client_id="YOUR_GOOGLE_CLIENT_ID"
                 data-context="signin"
                 data-ux_mode="popup"
                 data-callback="handleGoogleSignIn"
                 data-auto_prompt="false">
            </div>
            
            <div class="g_id_signin"
                 data-type="standard"
                 data-shape="rectangular"
                 data-theme="outline"
                 data-text="signin_with"
                 data-size="large"
                 data-logo_alignment="left"
                 data-width="300">
            </div>
            
            <div class="auth-divider dark:text-gray-500">or</div>
            
            <button id="guestBtn" class="guest-btn dark:bg-gray-700 dark:hover:bg-gray-600">
                <i class="fas fa-user-secret mr-2"></i> Continue as Guest
            </button>
            
            <p class="text-xs text-gray-500 mt-4 dark:text-gray-500">
                Guest mode data is stored locally and won't sync across devices
            </p>
        </div>
    </div>
    
    <!-- User Profile (shown after auth) -->
    <div class="user-profile hidden" id="userProfile">
        <img src="" alt="User" class="user-avatar" id="userAvatar">
        <span class="user-name" id="userName"></span>
        <button class="sign-out-btn" id="signOutBtn" title="Sign out">
            <i class="fas fa-sign-out-alt"></i>
        </button>
    </div>
    
    <!-- Main App (hidden until auth) -->
    <div class="app-container hidden" id="appContainer">
        <div class="container mx-auto px-4 py-4 max-w-4xl h-full flex flex-col">
            <div class="backdrop-blur-sm bg-white/80 rounded-xl shadow-xl flex-1 flex flex-col overflow-hidden dark:bg-gray-800/80">
                <!-- Navigation Tabs -->
                <div class="nav-tabs flex space-x-1 dark:bg-gray-800/90">
                    <button class="tab-button ripple-container px-4 py-2 rounded-t-lg active" data-tab="todo">
                        <i class="fas fa-tasks mr-1"></i> Todos
                    </button>
                    <button class="tab-button ripple-container px-4 py-2 rounded-t-lg" data-tab="settings">
                        <i class="fas fa-cog mr-1"></i> Settings
                    </button>
                    <button class="tab-button ripple-container px-4 py-2 rounded-t-lg" data-tab="about">
                        <i class="fas fa-info-circle mr-1"></i> About
                    </button>
                </div>
                
                <!-- Main Content -->
                <div class="main-content p-6">
                    <!-- Todo Tab Content -->
                    <div class="tab-content active" id="todoTab">
                        <!-- Add Todo Form -->
                        <div class="flex mb-6">
                            <input type="text" id="todoInput"
                                    class="flex-1 px-4 py-2 rounded-l-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:border-gray-600 dark:text-white"
                                    placeholder="Add a new task...">
                            <button id="addTodoBtn" class="ripple-container bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-r-lg transition">
                                <i class="fas fa-plus"></i> Add
                            </button>
                        </div>
                                                
                        <!-- Todo List -->
                        <div class="space-y-3 mb-4" id="todoList">
                            <!-- Todos will be added here -->
                        </div>
                                                
                        <!-- Stats -->
                        <div class="mt-6 pt-4 border-t border-gray-200 flex justify-between text-sm text-gray-600 dark:border-gray-700 dark:text-gray-400">
                            <div>
                                <span id="totalCount">0</span> tasks total
                            </div>
                            <div>
                                <span id="completedCount">0</span> completed
                            </div>
                        </div>
                    </div>
                    
                    <!-- Settings Tab Content -->
                    <div class="tab-content" id="settingsTab">
                        <div class="space-y-6">
                            <!-- Font Size Slider -->
                            <div class="bg-white p-4 rounded-lg shadow border border-gray-100 dark:bg-gray-700 dark:border-gray-600">
                                <h2 class="text-lg font-semibold text-gray-700 mb-3 dark:text-gray-200 heading-text">
                                    <i class="fas fa-text-height mr-2 text-blue-400"></i> Font Size
                                </h2>
                                <div class="flex items-center justify-between mb-2">
                                    <span class="text-sm text-gray-600 dark:text-gray-400">Small</span>
                                    <span class="text-sm text-gray-600 dark:text-gray-400">Large</span>
                                </div>
                                <input type="range" min="12" max="20" value="16" class="font-size-slider" id="fontSizeSlider">
                                <div class="flex justify-between mt-1">
                                    <span class="text-xs text-gray-500 dark:text-gray-400">A</span>
                                    <span class="text-sm text-gray-500 dark:text-gray-400">A</span>
                                    <span class="text-base text-gray-500 dark:text-gray-400">A</span>
                                    <span class="text-lg text-gray-500 dark:text-gray-400">A</span>
                                    <span class="text-xl text-gray-500 dark:text-gray-400">A</span>
                                </div>
                            </div>
                                                    
                            <!-- Dark Mode Toggle -->
                            <div class="bg-white p-4 rounded-lg shadow border border-gray-100 dark:bg-gray-700 dark:border-gray-600">
                                <h2 class="text-lg font-semibold text-gray-700 mb-3 dark:text-gray-200 heading-text">
                                    <i class="fas fa-adjust mr-2 text-blue-400"></i> Appearance
                                </h2>
                                <div class="flex items-center justify-between">
                                    <div>
                                        <h3 class="font-medium text-gray-800 dark:text-gray-200 heading-text">Dark Mode</h3>
                                        <p class="text-sm text-gray-600 dark:text-gray-400">Toggle between light and dark theme</p>
                                    </div>
                                    <label class="relative inline-flex items-center cursor-pointer">
                                        <input type="checkbox" id="darkModeSwitch" class="sr-only peer">
                                        <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-600 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-500 peer-checked:bg-blue-600"></div>
                                    </label>
                                </div>
                            </div>
                                                    
                            <!-- Background Selection -->
                            <div class="bg-white p-4 rounded-lg shadow border border-gray-100 dark:bg-gray-700 dark:border-gray-600">
                                <h2 class="text-lg font-semibold text-gray-700 mb-3 dark:text-gray-200 heading-text">
                                    <i class="fas fa-image mr-2 text-blue-400"></i> Background Settings
                                </h2>
                                <div class="flex justify-between items-center mb-3">
                                    <p class="text-sm text-gray-600 dark:text-gray-400">Choose your preferred background</p>
                                    <button id="randomBgBtn" class="ripple-container text-sm bg-blue-100 hover:bg-blue-200 text-blue-700 px-3 py-1 rounded-full transition dark:bg-blue-900 dark:hover:bg-blue-800 dark:text-blue-100 random-btn-text">
                                        <i class="fas fa-random mr-1"></i> Random
                                    </button>
                                </div>
                                <div class="grid grid-cols-3 sm:grid-cols-4 gap-3">
                                    <div class="bg-option h-16 rounded-lg cursor-pointer bg-cover bg-center"
                                          style="background-image: url('https://images.unsplash.com/photo-1506744038136-46273834b3fb?w=500')"
                                         data-bg="https://images.unsplash.com/photo-1506744038136-46273834b3fb?w=1600"></div>
                                    <div class="bg-option h-16 rounded-lg cursor-pointer bg-cover bg-center"
                                          style="background-image: url('https://images.unsplash.com/photo-1519681393784-d120267933ba?w=500')"
                                         data-bg="https://images.unsplash.com/photo-1519681393784-d120267933ba?w=1600"></div>
                                    <div class="bg-option h-16 rounded-lg cursor-pointer bg-cover bg-center"
                                          style="background-image: url('https://images.unsplash.com/photo-1519125323398-675f0ddb6308?w=500')"
                                         data-bg="https://images.unsplash.com/photo-1519125323398-675f0ddb6308?w=1600"></div>
                                    <div class="bg-option h-16 rounded-lg cursor-pointer bg-cover bg-center"
                                          style="background-image: url('https://images.unsplash.com/photo-1428908728789-d2de25dbd4e2?w=500')"
                                         data-bg="https://images.unsplash.com/photo-1428908728789-d2de25dbd4e2?w=1600"></div>
                                    <div class="bg-option h-16 rounded-lg cursor-pointer bg-cover bg-center"
                                          style="background-image: url('https://images.unsplash.com/photo-1501785888041-af3ef285b470?w=500')"
                                         data-bg="https://images.unsplash.com/photo-1501785888041-af3ef285b470?w=1600"></div>
                                    <div class="bg-option h-16 rounded-lg cursor-pointer bg-cover bg-center"
                                          style="background-image: url('https://images.unsplash.com/photo-1447752875215-b2761acb3c5d?w=500')"
                                         data-bg="https://images.unsplash.com/photo-1447752875215-b2761acb3c5d?w=1600"></div>
                                    <div class="bg-option h-16 rounded-lg cursor-pointer bg-cover bg-center"
                                          style="background-image: url('https://images.unsplash.com/photo-1470071459604-3b5ec3a7fe05?w=500')"
                                         data-bg="https://images.unsplash.com/photo-1470071459604-3b5ec3a7fe05?w=1600"></div>
                                    <div class="bg-option h-16 rounded-lg cursor-pointer bg-cover bg-center"
                                          style="background-image: url('https://images.unsplash.com/photo-1433086966358-54859d0ed716?w=500')"
                                         data-bg="https://images.unsplash.com/photo-1433086966358-54859d0ed716?w=1600"></div>
                                </div>
                            </div>
                                                    
                            <!-- Data Management -->
                            <div class="bg-white p-4 rounded-lg shadow border border-gray-100 dark:bg-gray-700 dark:border-gray-600">
                                <h2 class="text-lg font-semibold text-gray-700 mb-3 dark:text-gray-200 heading-text">
                                    <i class="fas fa-database mr-2 text-blue-400"></i> Data Management
                                </h2>
                                <div class="flex items-center justify-between">
                                    <div>
                                        <h3 class="font-medium text-gray-800 dark:text-gray-200 heading-text">Delete All Data</h3>
                                        <p class="text-sm text-gray-600 dark:text-gray-400">Permanently remove all your todos and settings</p>
                                    </div>
                                    <button id="deleteDataBtn" class="ripple-container bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg transition delete-btn-text">
                                        <i class="fas fa-trash mr-1"></i> Delete
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- About Tab Content -->
                    <div class="tab-content" id="aboutTab">
                        <div class="text-center mb-8">
                            <div class="w-24 h-24 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4 dark:bg-blue-900">
                                <i class="fas fa-check-circle text-blue-500 text-4xl dark:text-blue-400"></i>
                            </div>
                            <h2 class="text-2xl font-bold text-gray-800 mb-2 dark:text-white heading-text">About Todo App</h2>
                            <p class="text-gray-600 max-w-lg mx-auto dark:text-gray-400">
                                A beautiful, customizable todo application that helps you stay organized and productive.
                                Your tasks are saved locally so they persist between sessions.
                            </p>
                        </div>
                                                
                        <div class="grid md:grid-cols-2 gap-6 mb-8">
                            <div class="feature-card bg-white p-6 rounded-xl shadow-md border border-gray-100 dark:bg-gray-700 dark:border-gray-600">
                                <div class="w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center mb-4 text-blue-500 dark:bg-blue-900 dark:text-blue-400">
                                    <i class="fas fa-palette text-xl"></i>
                                </div>
                                <h3 class="text-lg font-semibold text-gray-800 mb-2 dark:text-white heading-text">Customizable Backgrounds</h3>
                                <p class="text-gray-600 dark:text-gray-400">
                                    Choose from beautiful background images in the Settings tab or let the app pick one randomly for you.
                                </p>
                            </div>
                            <div class="feature-card bg-white p-6 rounded-xl shadow-md border border-gray-100 dark:bg-gray-700 dark:border-gray-600">
                                <div class="w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center mb-4 text-green-500 dark:bg-green-900 dark:text-green-400">
                                    <i class="fas fa-save text-xl"></i>
                                </div>
                                <h3 class="text-lg font-semibold text-gray-800 mb-2 dark:text-white heading-text">Local Storage</h3>
                                <p class="text-gray-600 dark:text-gray-400">
                                    Your todos are saved in your browser, so they'll be there when you come back.
                                </p>
                            </div>
                            <div class="feature-card bg-white p-6 rounded-xl shadow-md border border-gray-100 dark:bg-gray-700 dark:border-gray-600">
                                <div class="w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center mb-4 text-purple-500 dark:bg-purple-900 dark:text-purple-400">
                                    <i class="fas fa-tasks text-xl"></i>
                                </div>
                                <h3 class="text-lg font-semibold text-gray-800 mb-2 dark:text-white heading-text">Task Management</h3>
                                <p class="text-gray-600 dark:text-gray-400">
                                    Add, complete, and delete tasks with a simple and intuitive interface.
                                </p>
                            </div>
                            <div class="feature-card bg-white p-6 rounded-xl shadow-md border border-gray-100 dark:bg-gray-700 dark:border-gray-600">
                                <div class="w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center mb-4 text-yellow-500 dark:bg-yellow-900 dark:text-yellow-400">
                                    <i class="fas fa-chart-bar text-xl"></i>
                                </div>
                                <h3 class="text-lg font-semibold text-gray-800 mb-2 dark:text-white heading-text">Progress Tracking</h3>
                                <p class="text-gray-600 dark:text-gray-400">
                                    See how many tasks you've completed and how many are remaining.
                                </p>
                            </div>
                        </div>
                                                
                        <div class="bg-blue-50 rounded-xl p-6 dark:bg-blue-900/50">
                            <h3 class="text-lg font-semibold text-gray-800 mb-3 flex items-center dark:text-white heading-text">
                                <i class="fas fa-lightbulb text-yellow-500 mr-2"></i> Tips for Productivity
                            </h3>
                            <ul class="space-y-2 text-gray-700 dark:text-gray-300">
                                <li class="flex items-start">
                                    <i class="fas fa-check-circle text-blue-400 mt-1 mr-2 text-sm"></i>
                                    <span>Break large tasks into smaller, manageable steps</span>
                                </li>
                                <li class="flex items-start">
                                    <i class="fas fa-check-circle text-blue-400 mt-1 mr-2 text-sm"></i>
                                    <span>Prioritize your tasks and tackle the most important ones first</span>
                                </li>
                                <li class="flex items-start">
                                    <i class="fas fa-check-circle text-blue-400 mt-1 mr-2 text-sm"></i>
                                    <span>Review your todo list at the start and end of each day</span>
                                </li>
                                <li class="flex items-start">
                                    <i class="fas fa-check-circle text-blue-400 mt-1 mr-2 text-sm"></i>
                                    <span>Celebrate your completed tasks to stay motivated</span>
                                </li>
                            </ul>
                        </div>
                                                
                        <div class="mt-8 pt-6 border-t border-gray-200 text-center text-sm text-gray-500 dark:border-gray-700 dark:text-gray-400">
                            <p>Created with <i class="fas fa-heart text-red-400"></i> using HTML, CSS, and JavaScript</p>
                            <p class="mt-1">Â© 2023 Todo App. All rights reserved.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Delete Confirmation Modal -->
    <div class="modal" id="deleteModal">
        <div class="modal-content dark:bg-gray-800">
            <h3 class="text-xl font-bold text-gray-800 mb-2 dark:text-white heading-text">
                <i class="fas fa-exclamation-triangle text-yellow-500 mr-2"></i> Confirm Deletion
            </h3>
            <p class="text-gray-700 dark:text-gray-300">Are you sure you want to delete all your todos and settings? This action cannot be undone.</p>
            <div class="modal-actions">
                <button id="cancelDeleteBtn" class="ripple-container px-4 py-2 rounded-lg border border-gray-300 text-gray-700 hover:bg-gray-100 transition dark:border-gray-600 dark:text-gray-300 dark:hover:bg-gray-700">
                    Cancel
                </button>
                <button id="confirmDeleteBtn" class="ripple-container bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg transition">
                    <i class="fas fa-trash mr-1"></i> Delete All
                </button>
            </div>
        </div>
    </div>
    
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // DOM Elements
            const authContainer = document.getElementById('authContainer');
            const appContainer = document.getElementById('appContainer');
            const guestBtn = document.getElementById('guestBtn');
            const userProfile = document.getElementById('userProfile');
            const userAvatar = document.getElementById('userAvatar');
            const userName = document.getElementById('userName');
            const signOutBtn = document.getElementById('signOutBtn');
            
            const todoInput = document.getElementById('todoInput');
            const addTodoBtn = document.getElementById('addTodoBtn');
            const todoList = document.getElementById('todoList');
            const totalCount = document.getElementById('totalCount');
            const completedCount = document.getElementById('completedCount');
            const appBackground = document.getElementById('appBackground');
            const bgOptions = document.querySelectorAll('.bg-option');
            const randomBgBtn = document.getElementById('randomBgBtn');
            const tabButtons = document.querySelectorAll('.tab-button');
            const tabContents = document.querySelectorAll('.tab-content');
            const deleteDataBtn = document.getElementById('deleteDataBtn');
            const deleteModal = document.getElementById('deleteModal');
            const cancelDeleteBtn = document.getElementById('cancelDeleteBtn');
            const confirmDeleteBtn = document.getElementById('confirmDeleteBtn');
            const darkModeSwitch = document.getElementById('darkModeSwitch');
            const fontSizeSlider = document.getElementById('fontSizeSlider');
            
            // Sample backgrounds
            const backgrounds = [
                'https://images.unsplash.com/photo-1506744038136-46273834b3fb?w=1600',
                'https://images.unsplash.com/photo-1519681393784-d120267933ba?w=1600',
                'https://images.unsplash.com/photo-1519125323398-675f0ddb6308?w=1600',
                'https://images.unsplash.com/photo-1428908728789-d2de25dbd4e2?w=1600',
                'https://images.unsplash.com/photo-1501785888041-af3ef285b470?w=1600',
                'https://images.unsplash.com/photo-1447752875215-b2761acb3c5d?w=1600',
                'https://images.unsplash.com/photo-1470071459604-3b5ec3a7fe05?w=1600',
                'https://images.unsplash.com/photo-1433086966358-54859d0ed716?w=1600'
            ];
            
            // Check if user is already authenticated
            const isAuthenticated = localStorage.getItem('isAuthenticated') === 'true';
            const isGuest = localStorage.getItem('isGuest') === 'true';
            const userData = JSON.parse(localStorage.getItem('userData')) || {};
            
            if (isAuthenticated || isGuest) {
                // User is already authenticated or in guest mode
                authContainer.style.display = 'none';
                appContainer.classList.remove('hidden');
                
                if (isAuthenticated && userData) {
                    // Show user profile
                    userProfile.classList.remove('hidden');
                    userAvatar.src = userData.picture || '';
                    userName.textContent = userData.name || 'User';
                }
            }
            
            // Google Sign-In Handler
            window.handleGoogleSignIn = function(response) {
                // Decode the JWT response
                const responsePayload = decodeJWT(response.credential);
                
                // Store user data
                const userData = {
                    name: responsePayload.name,
                    email: responsePayload.email,
                    picture: responsePayload.picture,
                    id: responsePayload.sub
                };
                
                localStorage.setItem('userData', JSON.stringify(userData));
                localStorage.setItem('isAuthenticated', 'true');
                localStorage.removeItem('isGuest');
                
                // Hide auth screen and show app
                authContainer.style.display = 'none';
                appContainer.classList.remove('hidden');
                
                // Show user profile
                userProfile.classList.remove('hidden');
                userAvatar.src = userData.picture;
                userName.textContent = userData.name;
                
                // Load todos (you might want to load from a server in a real app)
                loadTodos();
            };
            
            // Helper function to decode JWT
            function decodeJWT(token) {
                const base64Url = token.split('.')[1];
                const base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/');
                const jsonPayload = decodeURIComponent(atob(base64).split('').map(function(c) {
                    return '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2);
                }).join(''));
                
                return JSON.parse(jsonPayload);
            }
            
            // Guest Mode
            guestBtn.addEventListener('click', function() {
                localStorage.setItem('isGuest', 'true');
                localStorage.removeItem('isAuthenticated');
                localStorage.removeItem('userData');
                
                authContainer.style.display = 'none';
                appContainer.classList.remove('hidden');
                userProfile.classList.add('hidden');
                
                // Load todos
                loadTodos();
            });
            
            // Sign Out
            signOutBtn.addEventListener('click', function() {
                // In a real app, you would also sign out from Google here
                localStorage.removeItem('isAuthenticated');
                localStorage.removeItem('isGuest');
                localStorage.removeItem('userData');
                localStorage.removeItem('todos');
                
                // Show auth screen
                authContainer.style.display = 'flex';
                appContainer.classList.add('hidden');
                userProfile.classList.add('hidden');
                
                // Reload the page to reset everything
                location.reload();
            });
            
            // Load todos from localStorage
            function loadTodos() {
                todos = JSON.parse(localStorage.getItem('todos')) || [];
                
                // Set initial background, dark mode, and font size
                currentBg = localStorage.getItem('currentBg') || backgrounds[0];
                darkMode = localStorage.getItem('darkMode') === 'true';
                fontSize = localStorage.getItem('fontSize') || '16';
                
                appBackground.style.backgroundImage = `url('${currentBg}')`;
                initDarkMode();
                initFontSize();
                
                // Mark the current background as selected
                bgOptions.forEach(option => {
                    if (option.dataset.bg === currentBg) {
                        option.classList.add('selected');
                    }
                });
                
                renderTodos();
            }
            
            // Initialize dark mode
            function initDarkMode() {
                if (darkMode) {
                    document.documentElement.classList.add('dark');
                    darkModeSwitch.checked = true;
                } else {
                    document.documentElement.classList.remove('dark');
                    darkModeSwitch.checked = false;
                }
            }
            
            // Initialize font size
            function initFontSize() {
                fontSizeSlider.value = fontSize;
                document.documentElement.style.fontSize = `${fontSize}px`;
            }
            
            // Toggle dark mode
            function toggleDarkMode() {
                darkMode = !darkMode;
                localStorage.setItem('darkMode', darkMode);
                initDarkMode();
            }
            
            // Todo functionality
            let todos = [];
            
            // Tab switching functionality
            tabButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const tabId = this.dataset.tab;
                    
                    // Update active tab button
                    tabButtons.forEach(btn => btn.classList.remove('active'));
                    this.classList.add('active');
                    
                    // Show corresponding tab content
                    tabContents.forEach(content => content.classList.remove('active'));
                    document.getElementById(`${tabId}Tab`).classList.add('active');
                    
                    // Scroll to top when switching tabs
                    document.querySelector('.main-content').scrollTo(0, 0);
                });
            });
            
            // Add todo event
            addTodoBtn.addEventListener('click', addTodo);
            todoInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') addTodo();
            });
            
            // Background selection
            bgOptions.forEach(option => {
                option.addEventListener('click', function() {
                    const bgUrl = this.dataset.bg;
                    appBackground.style.backgroundImage = `url('${bgUrl}')`;
                    currentBg = bgUrl;
                    localStorage.setItem('currentBg', bgUrl);
                    
                    // Update selected state
                    bgOptions.forEach(opt => opt.classList.remove('selected'));
                    this.classList.add('selected');
                });
            });
            
            // Random background button
            randomBgBtn.addEventListener('click', function() {
                const randomIndex = Math.floor(Math.random() * backgrounds.length);
                const randomBg = backgrounds[randomIndex];
                appBackground.style.backgroundImage = `url('${randomBg}')`;
                currentBg = randomBg;
                localStorage.setItem('currentBg', randomBg);
                
                // Update selected state
                bgOptions.forEach(opt => {
                    opt.classList.remove('selected');
                    if (opt.dataset.bg === randomBg) {
                        opt.classList.add('selected');
                    }
                });
            });
            
            // Dark mode toggle
            darkModeSwitch.addEventListener('change', toggleDarkMode);
            
            // Font size slider
            fontSizeSlider.addEventListener('input', function() {
                fontSize = this.value;
                document.documentElement.style.fontSize = `${fontSize}px`;
                localStorage.setItem('fontSize', fontSize);
            });
            
            // Enhanced Ripple Effect for all buttons
            function createRipple(event) {
                const button = event.currentTarget;
                const circle = document.createElement("span");
                const diameter = Math.max(button.clientWidth, button.clientHeight);
                const radius = diameter / 2;
                
                circle.style.width = circle.style.height = `${diameter}px`;
                circle.style.left = `${event.clientX - button.getBoundingClientRect().left - radius}px`;
                circle.style.top = `${event.clientY - button.getBoundingClientRect().top - radius}px`;
                circle.classList.add("ripple-effect");
                
                const ripple = button.getElementsByClassName("ripple-effect")[0];
                if (ripple) {
                    ripple.remove();
                }
                
                button.appendChild(circle);
            }
            
            // Add ripple effect to all buttons with ripple-container class
            const rippleButtons = document.querySelectorAll('.ripple-container');
            rippleButtons.forEach(button => {
                button.addEventListener('click', createRipple);
            });
            
            // Add todo function
            function addTodo() {
                const text = todoInput.value.trim();
                if (text) {
                    const newTodo = {
                        id: Date.now(),
                        text: text,
                        completed: false,
                        createdAt: new Date().toISOString()
                    };
                    
                    todos.unshift(newTodo);
                    saveTodos();
                    renderTodos();
                    todoInput.value = '';
                    todoInput.focus();
                }
            }
            
            // Render todos function
            function renderTodos() {
                if (todos.length === 0) {
                    todoList.innerHTML = `
                        <div class="text-center py-8 text-gray-500 dark:text-gray-400">
                            <i class="fas fa-clipboard-list text-4xl mb-3 opacity-30"></i>
                            <p>No tasks yet. Add one above!</p>
                        </div>
                    `;
                } else {
                    todoList.innerHTML = todos.map(todo => `
                        <div class="todo-item fade-in bg-white rounded-lg shadow p-4 flex items-center justify-between ${todo.completed ? 'opacity-70' : ''} dark:bg-gray-700 dark:border-gray-600">
                            <div class="flex items-center">
                                <input type="checkbox" ${todo.completed ? 'checked' : ''}
                                        class="custom-checkbox h-5 w-5 text-blue-500 rounded focus:ring-blue-400 mr-3"
                                        data-id="${todo.id}">
                                <span class="${todo.completed ? 'line-through text-gray-500 dark:text-gray-400' : 'text-gray-800 dark:text-white'}">${todo.text}</span>
                            </div>
                            <button class="delete-btn ripple-container text-red-400 hover:text-red-600 transition dark:text-red-500 dark:hover:text-red-400" data-id="${todo.id}">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                    `).join('');
                    
                    // Add event listeners to checkboxes and delete buttons
                    document.querySelectorAll('input[type="checkbox"]').forEach(checkbox => {
                        checkbox.addEventListener('change', toggleTodo);
                    });
                    
                    document.querySelectorAll('.delete-btn').forEach(btn => {
                        btn.addEventListener('click', deleteTodo);
                    });
                    
                    // Add ripple effect to delete buttons
                    document.querySelectorAll('.delete-btn').forEach(button => {
                        button.addEventListener('click', createRipple);
                    });
                }
                
                updateStats();
            }
            
            // Toggle todo completion
            function toggleTodo(e) {
                const id = parseInt(e.target.dataset.id);
                todos = todos.map(todo => 
                    todo.id === id ? {...todo, completed: !todo.completed} : todo
                );
                saveTodos();
                renderTodos();
            }
            
            // Delete todo
            function deleteTodo(e) {
                const id = parseInt(e.currentTarget.dataset.id);
                todos = todos.filter(todo => todo.id !== id);
                saveTodos();
                renderTodos();
            }
            
            // Save todos to localStorage
            function saveTodos() {
                localStorage.setItem('todos', JSON.stringify(todos));
            }
            
            // Update stats
            function updateStats() {
                totalCount.textContent = todos.length;
                completedCount.textContent = todos.filter(todo => todo.completed).length;
            }
            
            // Delete all data
            deleteDataBtn.addEventListener('click', () => {
                deleteModal.style.display = 'flex';
            });
            
            cancelDeleteBtn.addEventListener('click', () => {
                deleteModal.style.display = 'none';
            });
            
            confirmDeleteBtn.addEventListener('click', () => {
                todos = [];
                localStorage.removeItem('todos');
                localStorage.removeItem('currentBg');
                localStorage.removeItem('darkMode');
                localStorage.removeItem('fontSize');
                renderTodos();
                deleteModal.style.display = 'none';
                
                // Reset to default background
                currentBg = backgrounds[0];
                appBackground.style.backgroundImage = `url('${currentBg}')`;
                localStorage.setItem('currentBg', currentBg);
                
                // Update selected state
                bgOptions.forEach(opt => opt.classList.remove('selected'));
                bgOptions[0].classList.add('selected');
                
                // Reset dark mode to light
                darkMode = false;
                initDarkMode();
                
                // Reset font size to default
                fontSize = '16';
                document.documentElement.style.fontSize = `${fontSize}px`;
                fontSizeSlider.value = fontSize;
            });
        });
    </script>
</body>
</html>